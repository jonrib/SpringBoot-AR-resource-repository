{"version":3,"sources":["webpack:///./src/components/cards/CreateResourceCard.vue","webpack:///./src/components/cards/CreateResourceCard.vue?7163","webpack:///./src/components/cards/CreateResourceCard.vue?e3b0","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["scroll-events","fullscreen","title","placeholder","validate","description","type","onModelFileChange","multiple","onImageFileChange","accept","createResource","disabled","components","IonTitle","IonPage","IonHeader","IonToolbar","IonInput","IonList","IonContent","IonButton","setup","eye","methods","this","uploadedFiles","length","uploadedImages","e","files","target","dataTransfer","i","push","entry","private","tags","category","payload","readers","editors","a","post","then","response","formData","FormData","id","data","file","indexOf","append","imageUrl","headers","formData2","fileUrl","window","location","__exports__","render","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","get","symbol","valueOf","string","call","desc","slice","replace","forced"],"mappings":"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","file":"js/chunk-20ec1930.1b673744.js","sourcesContent":["<template>\r\n<ion-page>\r\n    <ion-header>\r\n      <ion-toolbar>\r\n        <ion-title>Create resource</ion-title>\r\n      </ion-toolbar>\r\n    </ion-header>\r\n  <ion-content\r\n    :scroll-events=\"false\" :fullscreen=\"true\">\r\n    <div>\r\n      <h1>{{title}}</h1>\r\n      <ion-list>\r\n        <ion-input placeholder=\"Enter title\" @ionChange=\"validate\" v-model=\"title\"></ion-input>\r\n        <ion-input placeholder=\"Enter description\" @ionChange=\"validate\" v-model=\"description\"></ion-input>\r\n        <ion-input type=\"file\" placeholder=\"Upload 3D models\" @change=\"onModelFileChange\" multiple>3D models</ion-input>\r\n        <ion-input type=\"file\" placeholder=\"Upload preview images\" @change=\"onImageFileChange\" accept=\"image/*\" multiple>Preview images</ion-input>\r\n      </ion-list>\r\n      <ion-button @click=\"createResource()\" :disabled=\"disabled\">Create resource entry</ion-button>\r\n    </div>\r\n  </ion-content>\r\n    </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { IonTitle, IonPage, IonHeader, IonToolbar, IonInput, IonList, IonContent, IonButton } from '@ionic/vue';\r\nimport { eye } from 'ionicons/icons';\r\nimport { defineComponent } from 'vue';\r\nimport axios from 'axios';\r\n\r\nexport default defineComponent({\r\n  components: { IonTitle, IonPage, IonHeader, IonToolbar, IonInput, IonList, IonContent, IonButton },\r\n  setup() {\r\n    return { eye };\r\n  },\r\n  methods: {\r\n      validate(){\r\n        if (this.title != \"\" && this.description != \"\" && this.uploadedFiles.length > 0 && this.uploadedImages.length > 0){\r\n          this.disabled = false;\r\n        }else{\r\n          this.disabled = true;\r\n        }\r\n      },\r\n      onModelFileChange(e){\r\n        const files = e.target.files || e.dataTransfer.files;\r\n        this.uploadedFiles = [];\r\n        if (!files.length){\r\n            this.validate();\r\n            return;\r\n        }\r\n        for (let i = 0; i < files.length; i++){\r\n            this.uploadedFiles.push(files[i]);\r\n        }\r\n        this.validate();\r\n      },\r\n      onImageFileChange(e){\r\n        const files = e.target.files || e.dataTransfer.files;\r\n        this.uploadedImages = [];\r\n        if (!files.length){\r\n            this.validate();\r\n            return;\r\n        }\r\n        for (let i = 0; i < files.length; i++){\r\n            this.uploadedImages.push(files[i]);\r\n        }\r\n        this.validate();\r\n      },\r\n      createResource(){\r\n            const entry = {title: this.title, description: this.description, private: false, tags: [], category: \"\"};\r\n            const payload = {entry: entry, readers: [], editors: []};\r\n            axios.post(\r\n                process.env.VUE_APP_API_URL+\"/resourceEntries\",\r\n                payload\r\n            ).then((response) => {\r\n                const formData = new FormData();\r\n                const id = response.data.id;\r\n\t\t\t\t\tfor( let i = 0; i < this.uploadedImages.length; i++ ){\r\n\t\t\t\t\t\tconst file = this.uploadedImages[i];\r\n                        \r\n\t\t\t\t\t\tif (file.type.indexOf('image')!=-1)\r\n\t\t\t\t\t\t\tformData.append('file', file);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst imageUrl =process.env.VUE_APP_API_URL+\"/resourceEntries/\"+id+\"/previewImages\";\r\n\t\t\t\t\tif (this.uploadedImages.length != 0){\r\n\t\t\t\t\t\taxios.post(imageUrl, \r\n\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).then(() => {\r\n                            const formData2 = new FormData();\r\n                            for( let i = 0; i < this.uploadedFiles.length; i++ ){\r\n                                const file = this.uploadedFiles[i];\r\n                                formData2.append('file', file);\r\n                            }\r\n                            const fileUrl =process.env.VUE_APP_API_URL+\"/resourceEntries/\"+id+\"/files\";\r\n                            if (this.uploadedFiles.length != 0){\r\n                                axios.post(fileUrl, \r\n                                formData2,\r\n                                {\r\n                                    headers: {\r\n                                        'Content-Type': 'multipart/form-data'\r\n                                    }\r\n                                \r\n                                }).then(() => {window.location = '/'})\r\n                            }else{\r\n                                window.location = '/'\r\n                            }\r\n\r\n                        })\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n            });\r\n      },\r\n  },\r\n  data: () => ({\r\n    title: \"\",\r\n    description: \"\",\r\n    uploadedFiles: [],\r\n    uploadedImages: [],\r\n    disabled: true\r\n  })\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.preview-image {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: 250px;\r\n}\r\n.checkbox_label {\r\n  margin-left: 1%;\r\n}\r\n</style>","import { render } from \"./CreateResourceCard.vue?vue&type=template&id=d0b99992&scoped=true\"\nimport script from \"./CreateResourceCard.vue?vue&type=script&lang=js\"\nexport * from \"./CreateResourceCard.vue?vue&type=script&lang=js\"\n\nimport \"./CreateResourceCard.vue?vue&type=style&index=0&id=d0b99992&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Jonas\\\\GIT\\\\Prototype\\\\ar-viewer-prototype\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d0b99992\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CreateResourceCard.vue?vue&type=style&index=0&id=d0b99992&scoped=true&lang=css\"","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}