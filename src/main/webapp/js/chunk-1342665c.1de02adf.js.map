{"version":3,"sources":["webpack:///./src/components/cards/ExpandedResourceCard.vue?a700","webpack:///./src/components/cards/ExpandedResourceCard.vue","webpack:///./src/components/cards/ExpandedResourceCard.vue?8a89"],"names":["scroll-events","showViewer","src","modelSrc","camera-controls","style","expand","closeViewer","title","files","file","key","fileName","endsWith","handleClick","$event","id","modelValue","fileIds","indexOf","class","fill","viewIn3d","icon","eye","length","href","viewFile","components","IonItem","IonList","IonLabel","IonContent","IonCheckbox","IonButton","IonIcon","ModelViewer","setup","methods","fileId","this","resourceId","isAdd","push","index","splice","join","VUE_APP_BACKEND","data","created","a","get","$route","params","then","response","__exports__","render"],"mappings":"kHAAA,W,oLCiB+E,6B,2BAIP,S,kUApBtE,eAsBc,GArBXA,iBAAe,GAAK,C,WACrB,iBAeM,CAfM,EAAAC,Y,iBAgBZ,eAGM,SAFgB,EAAAA,Y,iBAApB,eAAgH,G,MAA/EC,IAAK,EAAAC,SAAUC,kBAAA,GAAgBC,MAAA,+B,uCAC9C,EAAAJ,Y,iBAAlB,eAAoF,G,MAAtDK,OAAO,OAAQ,QAAO,EAAAC,a,YAAc,iBAAK,C,sEAlBzE,eAeM,SAdJ,eAAkB,yBAAZ,EAAAC,OAAK,GACX,eAWW,Q,WAVC,iBAAqB,E,mBAA/B,eASW,2BATc,EAAAC,OAAK,SAAbC,G,wBAAjB,eASW,GATsBC,IAAKD,GAAI,C,WACtC,iBAC4D,CADxCA,EAAKE,SAASC,SAAQ,SAAYH,EAAKE,SAASC,SAAQ,U,iBAA5E,eAC4D,G,MAD4B,sBAAiB,mBAAE,EAAAC,YAAYC,EAAQL,EAAKM,KACnIC,YAAmC,GAAvB,EAAAC,QAAQC,QAAQT,EAAKM,K,oEACMN,EAAKE,SAASC,SAAQ,SAAYH,EAAKE,SAASC,SAAQ,U,iBAAhG,eAAwI,G,MAA7HO,MAAM,kB,YAA0F,iBAAiB,C,8BAAfV,EAAKE,UAAQ,O,8BAC1H,eAEO,wBADHF,EAAKE,UAAQ,IAECF,EAAKE,SAASC,SAAQ,S,iBAAxC,eACqC,G,MADaQ,KAAK,QAAS,QAAK,mBAAE,EAAAC,SAASZ,EAAKM,M,YACrF,iBAAwB,CAAxB,eAAwB,GAAbO,KAAM,EAAAC,KAAG,qB,gFAGM,GAAd,EAAAN,QAAQO,Q,iBAA1B,eAA+G,G,MAAvEC,KAAM,EAAAC,WAAYrB,OAAO,Q,YAAQ,iBAAyB,C,6IAgBzF,iBAAgB,CAC7BsB,WAAY,CAAEC,QAAA,OAASC,QAAA,OAASC,SAAA,OAAUC,WAAA,OAAYC,YAAA,OAAaC,UAAA,OAAWC,QAAA,OAASC,YAAA,cACvFC,MAF6B,WAG3B,MAAO,CAAEb,IAAA,SAEXc,QAAS,CACLhB,SADK,SACIiB,GACPC,KAAKrC,SAAW,uBAAgDqC,KAAKC,WAAW,UAAUF,EAC1FC,KAAKvC,YAAa,GAEpBM,YALK,WAMHiC,KAAKrC,SAAW,GAChBqC,KAAKvC,YAAa,GAEpBa,YATK,SASO4B,EAAO1B,GACjB,GAAK0B,EAMHF,KAAKtB,QAAQyB,KAAK3B,OANT,CACT,IAAM4B,EAAQJ,KAAKtB,QAAQC,QAAQH,IACrB,GAAV4B,GACFJ,KAAKtB,QAAQ2B,OAAOD,EAAO,KAMjCjB,SAnBK,WAoBH,MAAO,uBAAuBa,KAAKC,WAAW,YAAYD,KAAKtB,QAAQ4B,KAAK,KAAK,YAAY,wGAAYC,kBAG/GC,KAAM,iBAAO,CACXxC,MAAO,GACPC,MAAO,GAAGuC,KACV9B,QAAS,GACTF,GAAI,KACJyB,WAAY,KACZxC,YAAY,EACZE,SAAU,KAEZ8C,QAAS,WAAU,WACjB,EAAAC,EAAMC,IAAI,uBAAgDX,KAAKY,OAAOC,OAAOrC,IAAIsC,MAAK,SAACC,GACrF,EAAK/C,MAAQ+C,EAASP,KAAKxC,MAC3B,EAAKC,MAAQ8C,EAASP,KAAKvC,MAC3B,EAAKgC,WAAa,EAAKW,OAAOC,OAAOrC,MAGvCwB,KAAKxB,GAAKwB,KAAKY,OAAOC,OAAOrC,M,iCCtEjC,MAAMwC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-1342665c.1de02adf.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ExpandedResourceCard.vue?vue&type=style&index=0&id=95a2d9c0&scoped=true&lang=css\"","<template>\r\n  <ion-content\r\n    :scroll-events=\"false\">\r\n    <div v-if=\"!showViewer\">\r\n      <h1>{{title}}</h1>\r\n      <ion-list>\r\n        <ion-item v-for=\"file in files\" :key=\"file\">\r\n            <ion-checkbox v-if=\"file.fileName.endsWith('.glb') || file.fileName.endsWith('.gltf')\" @update:modelValue=\"handleClick($event, file.id)\"\r\n            :modelValue=\"fileIds.indexOf(file.id) != -1\"></ion-checkbox>\r\n            <ion-label class=\"checkbox_label\" v-if=\"file.fileName.endsWith('.glb') || file.fileName.endsWith('.gltf')\">{{file.fileName}}</ion-label>\r\n            <span v-else>\r\n              {{file.fileName}}  \r\n            </span>\r\n            <ion-button v-if=\"file.fileName.endsWith('.glb')\" fill=\"clear\" @click=\"viewIn3d(file.id)\">\r\n            <ion-icon :icon=\"eye\" /></ion-button>\r\n        </ion-item>\r\n      </ion-list>\r\n      <ion-button v-if=\"fileIds.length != 0\" :href=\"viewFile()\" expand=\"full\" >View checked models in AR</ion-button>\r\n    </div>\r\n    <div v-else>\r\n      <model-viewer v-if=\"showViewer\" :src=\"modelSrc\" camera-controls style=\"width:100%;height: 500px\"></model-viewer>\r\n      <ion-button v-if=\"showViewer\" expand=\"full\" @click=\"closeViewer\" >Close</ion-button>\r\n    </div>\r\n  </ion-content>\r\n</template>\r\n\r\n<script>\r\nimport { IonItem, IonList, IonLabel, IonContent, IonCheckbox, IonButton, IonIcon } from '@ionic/vue';\r\nimport { eye } from 'ionicons/icons';\r\nimport { defineComponent } from 'vue';\r\nimport ModelViewer from '@google/model-viewer';\r\nimport axios from 'axios';\r\n\r\nexport default defineComponent({\r\n  components: { IonItem, IonList, IonLabel, IonContent, IonCheckbox, IonButton, IonIcon, ModelViewer },\r\n  setup() {\r\n    return { eye };\r\n  },\r\n  methods: {\r\n      viewIn3d(fileId){\r\n        this.modelSrc = process.env.VUE_APP_API_URL+'/resourceEntries/'+this.resourceId+'/files/'+fileId;\r\n        this.showViewer = true;\r\n      },\r\n      closeViewer(){\r\n        this.modelSrc = '';\r\n        this.showViewer = false;\r\n      },\r\n      handleClick(isAdd, id){\r\n        if (!isAdd){\r\n          const index = this.fileIds.indexOf(id);\r\n          if (index != -1){\r\n            this.fileIds.splice(index, 1);\r\n          }\r\n        }else{\r\n          this.fileIds.push(id);\r\n        }\r\n      },\r\n      viewFile() {\r\n        return '/ar.html?resourceId='+this.resourceId+'&fileIds='+this.fileIds.join(',')+\"&backUrl=\"+process.env.VUE_APP_BACKEND;\r\n      }\r\n  },\r\n  data: () => ({\r\n    title: \"\",\r\n    files: [].data,\r\n    fileIds: [],\r\n    id: null,\r\n    resourceId: null,\r\n    showViewer: false,\r\n    modelSrc: ''\r\n  }),\r\n  created: function(){\r\n    axios.get(process.env.VUE_APP_API_URL+'/resourceEntries/'+this.$route.params.id).then((response) => {\r\n      this.title = response.data.title;\r\n      this.files = response.data.files;\r\n      this.resourceId = this.$route.params.id;\r\n    });\r\n\r\n    this.id = this.$route.params.id;\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.preview-image {\r\n  display: block;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: 250px;\r\n}\r\n.checkbox_label {\r\n  margin-left: 1%;\r\n}\r\n</style>","import { render } from \"./ExpandedResourceCard.vue?vue&type=template&id=95a2d9c0&scoped=true\"\nimport script from \"./ExpandedResourceCard.vue?vue&type=script&lang=js\"\nexport * from \"./ExpandedResourceCard.vue?vue&type=script&lang=js\"\n\nimport \"./ExpandedResourceCard.vue?vue&type=style&index=0&id=95a2d9c0&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Jonas\\\\GIT\\\\Prototype\\\\ar-viewer-prototype\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-95a2d9c0\"]])\n\nexport default __exports__"],"sourceRoot":""}